on:
  issues:
    types: [opened]

jobs:
  issue_triage:
    name: Issue Opened Triage
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: github/issue-labeler@v2.5
      with:
        repo-token: "${{ secrets.GITHUB_TOKEN }}"
        configuration-path: .github/labeler-issue-triage.yml
        enable-versioned-regex: 0
  add-to-project:
    name: Add issue to request queue
    runs-on: ubuntu-latest
    steps:
      - uses: actions/add-to-project@main
        with:
          project-url: https://github.com/orgs/hashicorp/projects/105
          github-token: ${{ secrets.PACKER_PROJ_BOARD_TOKEN }}
          labeled: bug, enhancement
          label-operator: OR

