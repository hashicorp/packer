---
description: |
    The Packer Amazon EBS Snapshot post-processor takes an artifact from ebsvolume
    builder and creates snapshot of it.
layout: docs
page_title: 'Amazon EBS Snapshot Post-Processor'
...

# Amazon EBS Snapshot Post-Processor

Type: `amazon-ebssnapshot`

The Packer Amazon EBS Snapshot post-processor takes EBS Volume IDs from an artifact of ebsvolume builders and creates snapshots out of it.

## How Does it Work?

For each ebs volume created by ebsvolume builder, one snapshot will be created. If tag parameter is provided, then all snapshots will be tagged.


## Configuration

Configuration options available for this post-processor are
segmented below into two categories: required and optional parameters.
Within each category, the available configuration keys are alphabetized.

Required:

-   `access_key` (string) - The access key used to communicate with AWS. [Learn
    how to set this.](/docs/builders/amazon.html#specifying-amazon-credentials)

-   `region` (string) - The name of the region, such as `us-east-1` in which EBS Volume is created. A list of valid regions can be obtained with AWS CLI tools or by consulting the AWS website.

-   `secret_key` (string) - The secret key used to communicate with AWS. [Learn
    how to set this.](/docs/builders/amazon.html#specifying-amazon-credentials)

Optional:

-   `description` (string) - Description for created snapshot.

-   `tags` (object of key/value strings) - Tags applied to the created snapshots.

## Basic Example

Here is a basic example. This assumes that the ebsvolume builder has produced an artifact for us to work with.

``` {.javascript}
{
  "type": "amazon-ebssnapshot",
  "access_key": "YOUR KEY HERE",
  "secret_key": "YOUR SECRET KEY HERE",
  "region": "us-east-1",
  "description": "Packer amazon-ebssnapshot",
  "tags": {
    "Name": "foo-bar-{{timestamp}}"
  }
}
```

-&gt; **Note:** Packer can also read the access key and secret access key from
environmental variables. See the configuration reference in the section above
for more information on what environmental variables Packer will look for.

With configuration from above, packer will take all ebs volumes generated by ebsvolume builder and create an snapshot for each of them. Note that specified region must be the same like the one where ebs volumes are created.

After snapshots are created, they will be tagged with provided key-value parameters.
